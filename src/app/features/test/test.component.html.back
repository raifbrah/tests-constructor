@if (testType === 'passing') {
  <h1 class="test-title">{{ title }}</h1>
} @else {
  <input class="test-title" type="text" [(ngModel)]="title" />
}

<div class="test__container">
  @for (question of questionsList(); track question.id) {
    <mat-card>
      <mat-card-header class="card__header">
        <mat-card-title>{{ question.description }}</mat-card-title>
        @if (question.type === 'single' && testType !== 'passing') {
          <button mat-stroked-button>Один вариант ответа</button>
        } @else if (question.type === 'multiple' && testType !== 'passing') {
          <button mat-stroked-button>Несколько вариантов ответа</button>
        }
      </mat-card-header>
      <mat-card-content>
        <mat-selection-list #shoes [multiple]="false">
          @for (answer of answersList(); track answer.id) {
            @if (answer.question_id === question.id) {
              <mat-list-option togglePosition="before" [(selected)]="answer.correct">
                <input
                  [(ngModel)]="answer.value"
                  class="task__option-input"
                  type="text"
                  [value]="answer.value"
                  placeholder="Вариант ответа"
                />
              </mat-list-option>
            }
          }
        </mat-selection-list>

        @if (testType !== 'passing') {
          <div class="card-actions">
            <button
              mat-stroked-button
              class="task__add-option-btn"
              (click)="addNewAnswer(question.id)"
            >
              + добавить
            </button>
            <button matButton="outlined" (click)="removeQuestion(question.id)">
              Удалить карточку
            </button>
          </div>
        }
      </mat-card-content>
    </mat-card>
  }

  @if (testType !== 'passing') {
    <button mat-icon-button class="add-card-btn" (click)="addNewQuestion()">
      <mat-icon>add_circle</mat-icon>
    </button>
  }
</div>
