<mat-card>
  <mat-card-header class="card__header">
    <mat-card-title
      >{{ questionIndex + 1 }}.
      <input type="text" [(ngModel)]="question.description" placeholder="Описание вопроса" />
    </mat-card-title>

    @if (question.type === 'single' && testType !== 'passing') {
      <button (click)="question.type = 'multiple'" mat-stroked-button>Один вариант ответа</button>
    } @else if (question.type === 'multiple' && testType !== 'passing') {
      <button (click)="question.type = 'single'" mat-stroked-button>
        Несколько вариантов ответа
      </button>
    }
  </mat-card-header>

  <mat-card-content>
    <div class="questions">
      @for (answer of question.answers; track answer.id) {
        <app-answer
          [questionType]="question.type"
          [questionId]="question.id"
          [answer]="answer"
          (removeAnswer)="removeAnswer(answer.id)"
        />
      }
    </div>

    @if (testType !== 'passing') {
      <div class="card-actions">
        <button mat-stroked-button class="task__add-option-btn" (click)="addNewAnswer()">
          + добавить
        </button>
        <button matButton="filled" class="error-button" (click)="onRemoveQuestion()">
          Удалить карточку
        </button>
      </div>
    }
  </mat-card-content>
</mat-card>
